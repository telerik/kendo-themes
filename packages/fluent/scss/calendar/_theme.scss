@use "../core/_index.scss" as *;
@use "./_variables.scss" as *;
@use "@progress/kendo-theme-core/scss/components/calendar/_theme.scss" as *;

@mixin kendo-calendar--theme() {
    @include kendo-calendar--theme-base();

    .k-calendar {
        .k-calendar-th {
            color: $kendo-calendar-header-cell-text;
        }

        .k-calendar-caption,
        .k-meta-header,
        .k-month-header {
            color: $kendo-calendar-caption-color;
        }

        .k-calendar-td {

            &.k-today .k-link {
                color: $kendo-calendar-today-text;
                background-color: $kendo-calendar-today-bg;
                box-shadow: none;
            }

            &.k-today:hover .k-link,
            &.k-today.k-hover .k-link {
                color: $kendo-calendar-today-hover-text;
                background-color: $kendo-calendar-today-hover-bg;
            }

            &.k-weekend .k-link {
                color: $kendo-calendar-weekend-text;
                background-color: $kendo-calendar-weekend-bg;
            }

            &.k-other-month .k-link {
                color: $kendo-calendar-other-month-text;
                background-color: $kendo-calendar-other-month-bg;
            }

            &:hover .k-link,
            &.k-hover .k-link {
                color: $kendo-calendar-cell-hover-text;
                background-color: $kendo-calendar-cell-hover-bg;
            }

            &:focus .k-link,
            &.k-focus .k-link {
                box-shadow: $kendo-calendar-cell-focus-shadow;
            }

            &.k-selected .k-link{
                color: $kendo-calendar-cell-selected-text;
                background-color: $kendo-calendar-cell-selected-bg;
                box-shadow: $kendo-calendar-cell-selected-shadow;
            }

            &.k-selected:hover .k-link,
            &.k-selected.k-hover .k-link {
                color: $kendo-calendar-cell-selected-hover-text;
                background-color: $kendo-calendar-cell-selected-hover-bg;
            }

            &.k-selected:focus .k-link,
            &.k-selected.k-focus .k-link {
                box-shadow: $kendo-calendar-cell-selected-focus-shadow;
            }

            &.k-disabled {
                color: color-mix(in srgb, #{k-color(on-app-surface)} 46%, transparent);
            }
        }

        &.k-invalid,
        &.k-invalid:hover,
        &.ng-invalid.ng-touched,
        &.ng-invalid.ng-dirty {
            border-color: k-color(error-emphasis);
        }
    }

    .k-calendar[dir="rtl"],
    .k-rtl .k-calendar {
        .k-calendar-td {

            &.k-range-start:hover .k-link,
            &.k-range-start.k-hover .k-link {
                box-shadow: $kendo-calendar-end-range-hover-shadow;

            }

            &.k-range-mid:last-child:hover .k-link,
            &.k-range-mid:last-child.k-hover .k-link,
            &.k-range-end:hover .k-link,
            &.k-range-end.k-hover .k-link {
                box-shadow: $kendo-calendar-start-range-hover-shadow;
            }

            &.k-range-mid:first-child:hover .k-link,
            &.k-range-mid:first-child.k-hover .k-link,
            &.k-alt + .k-range-mid:hover .k-link,
            &.k-alt + .k-range-mid.k-hover .k-link {
                box-shadow: $kendo-calendar-end-range-hover-shadow;
            }
        }
    }

    .k-calendar .k-calendar-td  {

        &.k-range-start,
        &.k-range-end,
        &.k-range-mid {
            background-color: $kendo-calendar-range-bg;
            color: $kendo-calendar-range-text;

            .k-link {
                background-color: transparent;

                &.k-selected {
                    background-color: transparent;
                    box-shadow: none;
                }
            }

            &::before {
                border-color: $kendo-calendar-range-border;
            }

            &.k-disabled {
                color: color-mix(in srgb, #{k-color(on-app-surface)} 46%, transparent);
            }

            &:hover .k-link,
            &.k-hover .k-link {
                background-color: $kendo-calendar-cell-selected-hover-bg;
            }
        }

        &.k-range-start:hover .k-link,
        &.k-range-start.k-hover .k-link {
            box-shadow: $kendo-calendar-start-range-hover-shadow;

        }

        &.k-range-mid:hover .k-link,
        &.k-range-mid.k-hover .k-link {
            box-shadow: $kendo-calendar-mid-range-hover-shadow;
        }

        &.k-range-mid:last-child:hover .k-link,
        &.k-range-mid:last-child.k-hover .k-link,
        &.k-range-end:hover .k-link,
        &.k-range-end.k-hover .k-link {
            box-shadow: $kendo-calendar-end-range-hover-shadow;
        }

        &.k-range-mid:first-child:hover .k-link,
        &.k-range-mid:first-child.k-hover .k-link,
        &.k-alt + .k-range-mid:hover .k-link,
        &.k-alt + .k-range-mid.k-hover .k-link {
            box-shadow: $kendo-calendar-start-range-hover-shadow;
        }

        &.k-range-start.k-range-end:hover .k-link {
            box-shadow: $kendo-calendar-start-end-range-hover-shadow;
        }
    }

}
