@use "sass:map";
@use "../core/_index.scss" as *;
@use "./_variables.scss" as *;
@use "@progress/kendo-theme-core/scss/components/pivotgrid/_layout.scss" as *;

@mixin kendo-pivotgrid--layout() {
    @include kendo-pivotgrid--layout-base();

    .k-pivotgrid-empty-cell {
        border-inline-end-style: solid;
        border-inline-end-width: $kendo-pivotgrid-cell-border-width;

        &:focus {
            outline: none;
        }
    }

    .k-pivotgrid-column-headers .k-pivotgrid-cell {
        border-inline-start-style: solid;
        border-inline-start-width: $kendo-pivotgrid-cell-border-width;

        &:first-child {
            border-inline-start-width: initial;
            border-inline-start-width: 0;
        }

        &.k-first {
            border-inline-start-width: initial;
            border-inline-start-width: $kendo-pivotgrid-cell-border-width;
        }
    }

    .k-pivotgrid-values .k-pivotgrid-cell {
        border-inline-start-width: 0;
    }

    .k-pivotgrid-configurator-content .k-form .k-label {
        font-weight: 400;
    }

    .k-pivotgrid-configurator-button .k-icon {
        margin-inline-start: $kendo-pivotgrid-configurator-button-icon-spacing;
    }

    .k-pivotgrid-configurator-content {
        .k-row-fields,
        .k-column-fields,
        .k-filter-fields {
            margin-block-start: initial;
            margin-block-start: $kendo-pivotgrid-configurator-fields-margin-y;
        }

        .k-value-fields {
            gap: $kendo-pivotgrid-configurator-fields-gap;
        }

        .k-settings-description {
            margin-block-start: initial;
            margin-block-start: k-spacing(4);
        }
    }

    .k-calculated-field-header-text {
        margin-inline-end: initial;
        margin-inline-end: 5px;
    }

    .k-calculated-field-actions .k-icon {
        margin-inline-end: initial;
        margin-inline-end: k-spacing(2);
    }

    .k-pivotgrid-configurator-horizontal .k-pivotgrid-configurator-content .k-form-field-wrapper {
        padding-inline-start: initial;
        padding-inline-start: $kendo-pivotgrid-spacer;

        & > *:first-child {
            margin-block-start: initial;
            margin-block-start: 0;
        }
        &:first-child {
            padding-inline-start: initial;
            padding-inline-start: 0;
        }
    }

    .k-pivotgrid-wrapper {
        gap: $kendo-pivotgrid-spacer;
    }

    .k-pivotgrid-configurator-panel.kendo-jquery {
        .k-pivotgrid-configurator-content {
            padding: $kendo-pivotgrid-spacer;
            gap: $kendo-pivotgrid-spacer;
        }

        .k-pivotgrid-targets {
            gap: $kendo-pivotgrid-spacer;
        }

        .k-pivotgrid-configurator-section {
            gap: $kendo-pivotgrid-spacer;
        }

        .k-column-fields {
            padding: calc( $kendo-pivotgrid-spacer / 2 );
            gap: calc( $kendo-pivotgrid-spacer / 2 );
        }
    }

    .k-pivotgrid-toggle {
        margin-block: calc( var( --kendo-icon-padding ) * -1 );
        padding: var( --kendo-icon-padding, .25rem );
    }
}
