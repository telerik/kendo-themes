@use "sass:map";
@use "../core/_index.scss" as *;
@use "./_variables.scss" as *;
@use "@progress/kendo-theme-core/scss/components/input/_theme.scss" as *;

@mixin kendo-input--theme() {

    @include kendo-input--theme-base();

    .k-input {

        &:focus,
        &.k-focus,
        &:focus-within {

            &::after {
                border-color: $kendo-input-focus-border;
            }
        }

        &:disabled,
        &[disabled],
        &.k-disabled {

            .k-input-prefix {
                color: $kendo-input-prefix-disabled-text;
            }

            .k-input-suffix {
                color: $kendo-input-suffix-disabled-text;
            }

            .k-input-button {
                color: inherit;
                background: none;
            }
        }

        // Invalid
        &.k-invalid,
        &.ng-invalid.ng-touched,
        &.ng-invalid.ng-dirty {
            border-color: $kendo-input-invalid-border;

            &::after {
                border-color: $kendo-input-invalid-border;
            }

            .k-input-validation-icon {
                color: $kendo-input-invalid-text;
            }

            &:focus:hover,
            &.k-focus:hover,
            &:focus.k-hover,
            &.k-focus.k-hover {
                border-color: $kendo-input-invalid-border;

                .k-input-validation-icon {
                    color: $kendo-input-invalid-text;
                }
            }
        }
    }

    .k-input-outline {
        &:disabled,
        &[disabled],
        &.k-disabled {
            color: $kendo-input-outline-disabled-text;
            background: $kendo-input-outline-disabled-bg;
            border-color: $kendo-input-outline-disabled-border;
        }
    }

    .k-input-flat {
        &:disabled,
        &[disabled],
        &.k-disabled {
            color: $kendo-input-flat-disabled-text;
            background: $kendo-input-flat-disabled-bg;
            border-color: $kendo-input-flat-disabled-border;
        }
    }

    .k-picker {

        &:focus,
        &.k-focus,
        &:focus-within {
            color: $kendo-picker-focus-text;
            background-color: $kendo-picker-focus-bg;
            border-color: $kendo-picker-focus-border;

            &::after {
                border-color: $kendo-picker-focus-border;
            }
        }

        // Invalid
        &.k-invalid,
        &.ng-invalid.ng-touched,
        &.ng-invalid.ng-dirty {
            border-color: $kendo-input-invalid-border;

            &::after {
                border-color: $kendo-input-invalid-border;
            }

            .k-input-validation-icon {
                color: $kendo-input-invalid-text;
            }

            &:focus:hover,
            &.k-focus:hover,
            &:focus.k-hover,
            &.k-focus.k-hover {
                border-color: $kendo-input-invalid-border;

                .k-input-validation-icon {
                    color: $kendo-input-invalid-text;
                }
            }
        }
    }

    .k-picker-outline {
        &:disabled,
        &[disabled],
        &.k-disabled {
            color: $kendo-picker-outline-disabled-text;
            background: $kendo-picker-outline-disabled-bg;
            border-color: $kendo-picker-outline-disabled-border;
        }
    }

    .k-picker-flat {
        &:disabled,
        &[disabled],
        &.k-disabled {
            color: $kendo-picker-flat-disabled-text;
            background: $kendo-picker-flat-disabled-bg;
            border-color: $kendo-picker-flat-disabled-border;
        }
    }
}
