@use "sass:map";
@use "../core/_index.scss" as *;
@use "./_variables.scss" as *;
@use "@progress/kendo-theme-core/scss/components/chip/_theme.scss" as *;

@mixin kendo-chip--theme() {

    @include kendo-chip--theme-base();

    .k-chip {
        @extend %k-chip-solid-base;

        &:focus,
        &.k-focus {
            border-color: $kendo-chip-focus-border;
            outline-color: $kendo-chip-focus-border;
        }

        &.k-chip-solid {
            @extend %k-chip-solid-base;
        }
        &.k-chip-outline {
            @extend %k-chip-outline-base;
        }

        @each $name, $color in $kendo-chip-theme-colors {
            &.k-chip-#{$name} {
                @extend %k-chip-solid-#{$name};
            }

            &.k-chip-outline.k-chip-#{$name} {
                @extend %k-chip-outline-#{$name};
            }
        }
    }

    .k-chip.k-chip-solid {
        &.k-chip-outline:focus::after,
        &.k-chip-outline.k-focus::after {
            outline-color: $kendo-chip-focus-outline;
        }

        &.k-selected {
            color: $kendo-chip-selected-text;
            border-color: $kendo-chip-selected-border;
        }

        &:disabled,
        &.k-disabled {
            color: $kendo-chip-disabled-text;
            background-color: $kendo-chip-disabled-bg;
            border-color: $kendo-chip-disabled-border;
        }

    }

    @each $name, $color in $kendo-chip-theme-colors {
        %k-chip-solid-#{$name} {
            border-color: k-color(#{$name}-subtle);

            &:active,
            &.k-active {
                background-color: k-color(#{$name}-subtle-active);
                border-color: k-color(#{$name}-subtle-active);
            }

            &.k-selected {
                border-color: k-color(#{$name}-subtle-active);
            }

            &:focus,
            &.k-focus {
                box-shadow: none;
            }

            &:hover,
            &.k-hover {
                background-color: k-color(#{$name}-subtle-hover);
                border-color: k-color(#{$name}-subtle-hover);
            }
        }

        %k-chip-outline-#{$name} {
            color: k-color(#{$name}-on-subtle);

            &:hover,
            &.k-hover {
                color: k-color(#{$name}-on-subtle);
                background-color: color-mix(in srgb, k-color(#{$name}-hover) 3%, transparent);
                border-color: k-color(#{$name}-on-surface);
            }

            &:focus,
            &.k-focus {
                box-shadow: none;
            }

            &:active,
            &.k-active,
            &.k-selected {
                color: k-color(#{$name}-on-subtle);
                background-color: color-mix(in srgb, k-color(#{$name}-active) 13%, transparent);
                border-color: k-color(#{$name}-on-surface);
            }

            @if ($name == "warning") {
                color: k-color(#{$name}-on-surface);
                background-color: transparent;
                border-color: currentColor;
            }

            @if ($name == "base") {
                border-color: $kendo-chip-border;

                &:active,
                &.k-active,
                &.k-selected {
                    background-color: color-mix(in srgb, k-color(on-base) 13%, transparent);
                    border-color: $kendo-chip-border;
                }

                &:hover,
                &.k-hover {
                    border-color: $kendo-chip-hover-border;
                }
            }
        }
    }

}
