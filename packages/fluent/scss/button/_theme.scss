@use "sass:map";
@use "../core/" as *;
@use "./_variables.scss" as *;

@mixin kendo-button--theme() {
    .k-button {
        --INTERNAL--kendo-button-text: var( --kendo-button-text );
        --INTERNAL--kendo-button-bg: var( --kendo-button-bg );
        --INTERNAL--kendo-button-border: var( --kendo-button-border );
        --INTERNAL--kendo-button-gradient: var( --kendo-button-gradient );
        --INTERNAL--kendo-button-shadow: var( --kendo-button-shadow );

        border-color: var( --INTERNAL--kendo-button-border, initial );
        color: var( --INTERNAL--kendo-button-text, inherit );
        background-color: var( --INTERNAL--kendo-button-bg, initial );
        background-image: linear-gradient(
            var( --INTERNAL--kendo-button-gradient, transparent, transparent )
        );
        box-shadow: var( --INTERNAL--kendo-button-shadow, none );

        &:hover,
        &.k-hover {
            --INTERNAL--kendo-button-text: var( --kendo-button-hover-text );
            --INTERNAL--kendo-button-bg: var( --kendo-button-hover-bg );
            --INTERNAL--kendo-button-border: var( --kendo-button-hover-border );
        }

        &:focus,
        &.k-focus {
            --INTERNAL--kendo-button-text: var( --kendo-button-focus-text );
            --INTERNAL--kendo-button-bg: var( --kendo-button-focus-bg );
            --INTERNAL--kendo-button-border: var( --kendo-button-focus-border );

            &:hover,
            &.k-hover {
                --INTERNAL--kendo-button-text: var( --kendo-button-focus-hover-text );
                --INTERNAL--kendo-button-bg: var( --kendo-button-focus-hover-bg );
                --INTERNAL--kendo-button-border: var( --kendo-button-focus-hover-border );
            }
        }

        &:focus::after,
        &.k-focus::after {
            outline-color: var( --kendo-button-focus-outline, initial );
        }

        &:active,
        &.k-active {
            --INTERNAL--kendo-button-text: var( --kendo-button-active-text );
            --INTERNAL--kendo-button-bg: var( --kendo-button-active-bg );
            --INTERNAL--kendo-button-border: var( --kendo-button-active-border );

            &:hover,
            &.k-hover {
                --INTERNAL--kendo-button-text: var( --kendo-button-active-hover-text );
                --INTERNAL--kendo-button-bg: var( --kendo-button-active-hover-bg );
                --INTERNAL--kendo-button-border: var( --kendo-button-active-hover-border );
            }
        }

        &.k-selected {
            --INTERNAL--kendo-button-text: var( --kendo-button-selected-text );
            --INTERNAL--kendo-button-bg: var( --kendo-button-selected-bg );
            --INTERNAL--kendo-button-border: var( --kendo-button-selected-border );

            &:hover,
            &.k-hover {
                --INTERNAL--kendo-button-text: var( --kendo-button-selected-hover-text );
                --INTERNAL--kendo-button-bg: var( --kendo-button-selected-hover-bg );
                --INTERNAL--kendo-button-border: var( --kendo-button-selected-hover-border );
            }
        }

        &:disabled,
        &.k-disabled,
        .k-disabled &,
        :disabled & {
            --INTERNAL--kendo-button-text: var( --kendo-button-disabled-text );
            --INTERNAL--kendo-button-bg: var( --kendo-button-disabled-bg );
            --INTERNAL--kendo-button-border: var( --kendo-button-disabled-border );
        }
    }

    @if($kendo-new-colors) {
        @each $name, $swatch in $kendo-button-theme-swatches {
            .k-button-solid-#{$name} {
                --kendo-button-text: #{map.get( $swatch, text )};
                --kendo-button-bg: #{map.get( $swatch, normal )};
                --kendo-button-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, normal ))};

                --kendo-button-hover-text: #{map.get( $swatch, text )};
                --kendo-button-hover-bg: #{map.get( $swatch, hover )};
                --kendo-button-hover-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, normal ))};

                --kendo-button-focus-text: #{map.get( $swatch, text )};
                --kendo-button-focus-bg: #{map.get( $swatch, normal )};
                --kendo-button-focus-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, normal ))};
                --kendo-button-focus-outline: #{if($name == 'base', map.get( $swatch, text ), currentColor)};

                --kendo-button-focus-hover-text: #{map.get( $swatch, text )};
                --kendo-button-focus-hover-bg: #{map.get( $swatch, hover )};
                --kendo-button-focus-hover-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, hover ))};

                --kendo-button-active-text: #{map.get( $swatch, text )};
                --kendo-button-active-bg: #{map.get( $swatch, active )};
                --kendo-button-active-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, active ))};

                --kendo-button-active-hover-text: #{map.get( $swatch, text )};
                --kendo-button-active-hover-bg: #{map.get( $swatch, active )};
                --kendo-button-active-hover-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, active ))};

                --kendo-button-selected-text: #{map.get( $swatch, text )};
                --kendo-button-selected-bg: #{map.get( $swatch, active )};
                --kendo-button-selected-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, active ))};

                --kendo-button-selected-hover-text: #{map.get( $swatch, text )};
                --kendo-button-selected-hover-bg: #{map.get( $swatch, active )};
                --kendo-button-selected-hover-border: #{if($name == 'base', $kendo-color-border, map.get( $swatch, active ))};

                --kendo-button-disabled-text: #{$kendo-disabled-text};
                --kendo-button-disabled-bg: #{$kendo-disabled-bg};
                --kendo-button-disabled-border: #{$kendo-disabled-border};
            }

            .k-button-outline-#{$name} {
                --kendo-button-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-bg: transparent;
                --kendo-button-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};

                --kendo-button-hover-text: #{if($name == 'base', map.get( $swatch, normal ), map.get( $swatch, text ))};
                --kendo-button-hover-bg: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-hover-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};

                --kendo-button-focus-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-bg: #{if($name == 'base', map.get( $swatch, normal ), map.get( $swatch, text ))};
                --kendo-button-focus-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-outline: currentColor;

                --kendo-button-focus-hover-text: #{if($name == 'base', map.get( $swatch, normal ), map.get( $swatch, text ))};
                --kendo-button-focus-hover-bg: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-hover-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};

                --kendo-button-active-text: #{if($name == 'base', map.get( $swatch, normal ), map.get( $swatch, text ))};
                --kendo-button-active-bg: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-active-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};

                --kendo-button-active-hover-text: #{if($name == 'base', map.get( $swatch, normal ), map.get( $swatch, text ))};
                --kendo-button-active-hover-bg: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-active-hover-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};

                --kendo-button-selected-text: #{if($name == 'base', map.get( $swatch, normal ), map.get( $swatch, text ))};
                --kendo-button-selected-bg: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-selected-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};

                --kendo-button-selected-hover-text: #{if($name == 'base', map.get( $swatch, normal ), map.get( $swatch, text ))};
                --kendo-button-selected-hover-bg: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-selected-hover-border: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};

                --kendo-button-disabled-text: #{$kendo-disabled-text};
                --kendo-button-disabled-bg: transparent;
                --kendo-button-disabled-border: #{$kendo-disabled-text};
            }

            .k-button-flat-#{$name} {
                --kendo-button-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-bg: transparent;
                --kendo-button-border: transparent;

                --kendo-button-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-hover-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.08);
                --kendo-button-hover-border: transparent;

                --kendo-button-focus-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-bg: transparent;
                --kendo-button-focus-border: transparent;
                --kendo-button-focus-outline: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.08);

                --kendo-button-focus-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-hover-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.08);
                --kendo-button-focus-hover-border: transparent;

                --kendo-button-active-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-active-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.12);
                --kendo-button-active-border: transparent;

                --kendo-button-active-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-active-hover-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.12);
                --kendo-button-active-hover-border: transparent;

                --kendo-button-selected-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-selected-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.12);
                --kendo-button-selected-border: transparent;

                --kendo-button-selected-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-selected-hover-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.12);
                --kendo-button-selected-hover-border: transparent;

                --kendo-button-disabled-text: #{$kendo-disabled-text};
                --kendo-button-disabled-bg: transparent;
                --kendo-button-disabled-border: transparent;
            }

            .k-button-clear-#{$name} {
                --kendo-button-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-bg: transparent;
                --kendo-button-border: transparent;

                --kendo-button-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-hover-bg: transparent;
                --kendo-button-hover-border: transparent;

                --kendo-button-focus-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.12);
                --kendo-button-focus-border: transparent;
                --kendo-button-focus-outline: none;

                --kendo-button-focus-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-hover-bg: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.12);
                --kendo-button-focus-hover-border: transparent;

                --kendo-button-active-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-active-bg: transparent;
                --kendo-button-active-border: transparent;

                --kendo-button-active-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-active-hover-bg: transparent;
                --kendo-button-active-hover-border: transparent;

                --kendo-button-selected-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-selected-bg: transparent;
                --kendo-button-selected-border: transparent;

                --kendo-button-selected-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-selected-hover-bg: transparent;
                --kendo-button-selected-hover-border: transparent;

                --kendo-button-disabled-text: #{$kendo-disabled-text};
                --kendo-button-disabled-bg: transparent;
                --kendo-button-disabled-border: transparent;
            }

            .k-button-link-#{$name} {
                --kendo-button-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-bg: transparent;
                --kendo-button-border: transparent;

                --kendo-button-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, active ))};
                --kendo-button-hover-bg: transparent;
                --kendo-button-hover-border: transparent;

                --kendo-button-focus-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, normal ))};
                --kendo-button-focus-bg: transparent;
                --kendo-button-focus-border: transparent;
                --kendo-button-focus-outline: rgba(#{if($name == 'base', map.get( $swatch, text-rgb ), map.get( $swatch, rgb ))}, 0.12);

                --kendo-button-focus-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, active ))};
                --kendo-button-focus-hover-bg: transparent;
                --kendo-button-focus-hover-border: transparent;

                --kendo-button-active-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, active ))};
                --kendo-button-active-bg: transparent;
                --kendo-button-active-border: transparent;

                --kendo-button-active-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, active ))};
                --kendo-button-active-hover-bg: transparent;
                --kendo-button-active-hover-border: transparent;

                --kendo-button-selected-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, active ))};
                --kendo-button-selected-bg: transparent;
                --kendo-button-selected-border: transparent;

                --kendo-button-selected-hover-text: #{if($name == 'base', map.get( $swatch, text ), map.get( $swatch, active ))};
                --kendo-button-selected-hover-bg: transparent;
                --kendo-button-selected-hover-border: transparent;

                --kendo-button-disabled-text: #{$kendo-disabled-text};
                --kendo-button-disabled-bg: transparent;
                --kendo-button-disabled-border: transparent;
            }
        }
    } @else {
        @each $fill-mode, $theme-colors in $kendo-button-theme-colors {
            @each $theme-color, $color-props in $theme-colors {
                $_text-color: map.get( $color-props, text );
                $_bg: map.get( $color-props, bg );
                $_border-color: map.get( $color-props, border );

                $_focus-text: map.get( $color-props, focus-text );
                $_focus-bg: map.get( $color-props, focus-bg );
                $_focus-border: map.get( $color-props, focus-border );
                $_focus-outline: map.get( $color-props, focus-outline );

                $_focus-hover-text: map.get( $color-props, focus-hover-text );
                $_focus-hover-bg: map.get( $color-props, focus-hover-bg );
                $_focus-hover-border: map.get( $color-props, focus-hover-border );

                $_hover-text: map.get( $color-props, hover-text );
                $_hover-bg: map.get( $color-props, hover-bg );
                $_hover-border: map.get( $color-props, hover-border );

                $_active-text: map.get( $color-props, active-text );
                $_active-bg: map.get( $color-props, active-bg );
                $_active-border: map.get( $color-props, active-border );

                $_active-hover-text: map.get( $color-props, active-hover-text );
                $_active-hover-bg: map.get( $color-props, active-hover-bg );
                $_active-hover-border: map.get( $color-props, active-hover-border );

                $_disabled-text: map.get( $color-props, disabled-text );
                $_disabled-bg: map.get( $color-props, disabled-bg );
                $_disabled-border: map.get( $color-props, disabled-border );

                .k-button-#{$fill-mode}-#{$theme-color} {
                    --kendo-button-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-text, #{$_text-color} );
                    --kendo-button-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-bg, #{$_bg} );
                    --kendo-button-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-border, #{$_border-color} );

                    --kendo-button-hover-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-hover-text, #{$_hover-text} );
                    --kendo-button-hover-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-hover-bg, #{$_hover-bg} );
                    --kendo-button-hover-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-hover-border, #{$_hover-border} );

                    --kendo-button-focus-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-focus-text, #{$_focus-text} );
                    --kendo-button-focus-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-focus-bg, #{$_focus-bg} );
                    --kendo-button-focus-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-focus-border, #{$_focus-border} );
                    --kendo-button-focus-outline: var( --kendo-button-#{$fill-mode}-#{$theme-color}-focus-outline, #{$_focus-outline} );

                    --kendo-button-focus-hover-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-focus-hover-text, #{$_focus-hover-text} );
                    --kendo-button-focus-hover-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-focus-hover-bg, #{$_focus-hover-bg} );
                    --kendo-button-focus-hover-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-focus-hover-border, #{$_focus-hover-border} );

                    --kendo-button-active-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-active-text, #{$_active-text} );
                    --kendo-button-active-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-active-bg, #{$_active-bg} );
                    --kendo-button-active-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-active-border, #{$_active-border} );

                    --kendo-button-active-hover-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-active-hover-text, #{$_active-hover-text} );
                    --kendo-button-active-hover-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-active-hover-bg, #{$_active-hover-bg} );
                    --kendo-button-active-hover-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-active-hover-border, #{$_active-hover-border} );

                    --kendo-button-selected-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-selected-text, #{$_active-text} );
                    --kendo-button-selected-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-selected-bg, #{$_active-bg} );
                    --kendo-button-selected-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-selected-border, #{$_active-border} );

                    --kendo-button-selected-hover-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-selected-hover-text, #{$_active-hover-text} );
                    --kendo-button-selected-hover-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-selected-hover-bg, #{$_active-hover-bg} );
                    --kendo-button-selected-hover-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-selected-hover-border, #{$_active-hover-border} );

                    --kendo-button-disabled-text: var( --kendo-button-#{$fill-mode}-#{$theme-color}-disabled-text, #{$_disabled-text} );
                    --kendo-button-disabled-bg: var( --kendo-button-#{$fill-mode}-#{$theme-color}-disabled-bg, #{$_disabled-bg} );
                    --kendo-button-disabled-border: var( --kendo-button-#{$fill-mode}-#{$theme-color}-disabled-border, #{$_disabled-border} );
                }
            }
        }
    }
}
