@use "../../mixins/index.import.scss" as *;
@use "../../motion/index.import.scss" as *;
@use "../../color-system/_functions.import.scss" as *;
@use "../../_variables.scss" as *;
@use "./variables.scss" as *;

@mixin kendo-chat--theme-base() {

    // Chat
    .k-chat {
        color: $kendo-chat-text;
        background-color: $kendo-chat-bg;
        border-color: $kendo-chat-border;
    }

    // Message meta base styles
    .k-timestamp {
        color: $kendo-chat-timestamp-text;
        background-color: $kendo-chat-timestamp-bg;
    }

    // Message meta pseudo elements
    .k-timestamp::before,
    .k-timestamp::after {
        background-color: $kendo-chat-timestamp-separator-bg;
    }

    // Message status
    .k-message-status {
        color: $kendo-chat-status-text;
    }

    // Bubbles base styles
    .k-message-group-sender .k-chat-bubble {
        color: $kendo-chat-alt-bubble-text;
        background-color: $kendo-chat-alt-bubble-bg;
        border-color: $kendo-chat-alt-bubble-border;
        @include box-shadow( $kendo-chat-alt-bubble-shadow );
    }

    // Bubbles active state
    .k-message-group-sender .k-chat-bubble:active,
    .k-message-group-sender .k-chat-bubble.k-active,
    .k-message-group-sender .k-chat-bubble.k-selected {
        background-color: $kendo-chat-alt-bubble-active-bg;
        border-color: $kendo-chat-alt-bubble-active-border;
    }

    // Bubbles focus state
    .k-message-group-sender .k-chat-bubble:focus,
    .k-message-group-sender .k-chat-bubble.k-focus {
        background-color: $kendo-chat-alt-bubble-focus-bg;
        border-color: $kendo-chat-alt-bubble-focus-border;
        box-shadow: inset $kendo-chat-alt-bubble-focus-shadow;
    }

    // Bubbles hover state
    .k-message-group-sender .k-chat-bubble:hover,
    .k-message-group-sender .k-chat-bubble.k-hover {
        background-color: $kendo-chat-alt-bubble-hover-bg;
        border-color: $kendo-chat-alt-bubble-hover-border;
    }

    // Typing indicator
    .k-typing-indicator {
        color: $kendo-chat-typing-indicator-text;
    }

    // Chat attachment
    .k-chat-file {
        border-color: transparent;
    }

    .k-chat-file-deleted {
        color: k-color(error-on-subtle);
        background-color: k-color(error-subtle);
        border-color: k-color(error-subtle);
    }

    // Attachment within Textarea prefix
    .k-message-box-wrapper .k-chat-file {
        color: $kendo-chat-file-text;
        background-color: $kendo-chat-file-bg;
        border-color: $kendo-chat-file-border;
    }

    // Message reference
    .k-message-reference {
        color: $kendo-chat-message-reference-text;
        @include linear-gradient($kendo-chat-message-reference-bg);
    }

    .k-message-reference-sender {
        .k-message-reference-content {
            &::before {
                background-color: $kendo-chat-message-reference-marker-alt-bg;
            }
        }
    }

    .k-message-reference-content {
        &::before {
            background-color: $kendo-chat-message-reference-marker-bg;
        }
    }

    // Pinned message
    .k-message-pinned {
        border-color: $kendo-chat-message-pinned-border-color;
    }

    // Toolbar
    .k-chat-toolbar,
    .k-chat .k-toolbar-box {
        color: $kendo-chat-toolbar-text;
        background-color: $kendo-chat-toolbar-bg;
        border-color: $kendo-chat-toolbar-border;
    }

}

@mixin kendo-chat--theme() {
    @include kendo-chat--theme-base();
}
